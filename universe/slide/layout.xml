<?xml version="1.0" encoding="UTF-8"?>
<world geist="nes">
	<script src="nes.donut" />
	<script src="main.donut" />
	<vertical id="main" split-weight="1">
		<widget widget-klass="content" split-weight="1" widget-id="slide">
			<doc id="main" background="stretch:image:universe/slide/back.png">
				<font size="112">
					<p>CPUの理解を容易にするシステムと解説サイトの構築</p>
					<p>ψ（プサイ） a.k.a. 平藤燎</p>
				</font>
			</doc>
			<doc id="1" background="stretch:image:universe/slide/back.png">
				<font size="112">
				　<br />いったいおまえは何者だ？生物なのか。
				</font>
			</doc>
			<doc id="2" padding="100">
				<font size="112"><p>　<br />われは、われである。<br />　<br />
					<font color="darkblue" size="64">#無人化すべきである</font></p>
				</font>
			</doc>
			<doc id="3">
				<font size="112">
					<br />
					東京大学　理科２類<br />
				</font>
			</doc>
			<doc id="4">
				<font size="112">
					東京大学　理科２類<br />
					→
				</font>
			</doc>
			<doc id="5">
				<font size="112">
					東京大学　理科２類<br />
					→<br />
					＿人人人人人＿<br />
					＞　<font color="red">獣医学</font>　＜<br />
					￣Y^Y^Y^Y￣ <br />
				</font>
			</doc>
			<doc id="6">
				<font size="136">　<br />で、一体何を作ったのか<br />
				</font>
			</doc>
			<doc id="7">
				<font size="112">
					<font color="darkred">ファミコンを<font color="darkblue">生きたまま解剖</font>できるコンテンツ</font>と
				</font>
			</doc>
			<doc id="8">
				<font size="112">
					<font color="darkred">ファミコンを<font color="darkblue" id="one">生きたまま解剖</font>できるコンテンツ</font>と
					<font color="darkred"><font color="darkblue" id="two">時を司る</font>スクリプト言語を作った</font>
				</font>
			</doc>
			<doc id="9">
				<font size="112">　<br />とりあえずご覧頂こう</font>
			</doc>
			<doc id="10">
				<font size="112">　<br />とりあえずご覧頂こう<br/>　…と言いたいところだけど…</font>
			</doc>
			<doc id="11">
				<font size="112">　<br />実は</font><br />
				<font size="112" color="red">　<br />これがそのシステム</font>
			</doc>
		</widget>
	</vertical>
	<label font-size="128" text="？？？？" id="hatena" background-color="#ffffffa0" />
	<vertical id="nes">
		<horizontal split-weight="1">
			<vertical>
				<widget widget-klass="nes-screen" fit="fit" id="nes">
					<xobject>
						<xstring name="rom">__roms__/alter_ego/Alter_Ego.nes</xstring>
					</xobject>
				</widget>
				<horizontal>
					<button text="Lesson1" split-weight="1">
						<xobject>
							<xstring name="action">nes-open</xstring>
							<xstring name="filename">__roms__/workshop/rom1.nes</xstring>
						</xobject>
					</button>
					<button text="AlterEgo" split-weight="1">
						<xobject>
							<xstring name="action">nes-open</xstring>
							<xstring name="filename">__roms__/alter_ego/Alter_Ego.nes</xstring>
						</xobject>
					</button>
				</horizontal>
				<horizontal>
					<button text="Lesson2" split-weight="1">
						<xobject>
							<xstring name="action">nes-open</xstring>
							<xstring name="filename">__roms__/workshop/rom2.nes</xstring>
						</xobject>
					</button>
					<button text="TETRIS" split-weight="1">
						<xobject>
							<xstring name="action">nes-open</xstring>
							<xstring name="filename">__roms__/lj65/lj65.nes</xstring>
						</xobject>
					</button>
				</horizontal>
				<horizontal>
					<button text="thwaite" split-weight="1">
						<xobject>
							<xstring name="action">nes-open</xstring>
							<xstring name="filename">__roms__/thwaite/thwaite.nes</xstring>
						</xobject>
					</button>
					<button text="Chase" split-weight="1">
						<xobject>
							<xstring name="action">nes-open</xstring>
							<xstring name="filename">__roms__/chase/Chase.nes</xstring>
						</xobject>
					</button>
				</horizontal>
				<widget widget-klass="nes-trace" widget-id="nes-trace" fit="expand" split-weight="1" />
			</vertical>
			<vertical split-weight="1">
				<horizontal split-weight="2" id="content">
					<scroll mode="vertical" id="memory-compare" split-weight="1">
						<widget widget-klass="nes-compare" widget-id="nes-compare" fit="expand" />
					</scroll>
					<scroll mode="vertical" id="memory-viewer" split-weight="1">
						<widget title="NES" widget-klass="nes-memory" widget-id="nes-watcher" fit="expand" />
					</scroll>
				</horizontal>
				<horizontal>
					<vertical split-weight="1">
						<label text="値を検索" />
						<textarea desc="この値と比較して" id="cmpval" />
						<horizontal>
							<button text="同じ" split-weight="1">
								<xobject>
									<xstring name="action">memcompare-const</xstring>
									<xstring name="method">selectConstEq</xstring>
								</xobject>
							</button>
							<button text="違う" split-weight="1">
								<xobject>
									<xstring name="action">memcompare-const</xstring>
									<xstring name="method">selectConstNe</xstring>
								</xobject>
							</button>
						</horizontal>
						<horizontal>
							<button text="大きい" split-weight="1">
								<xobject>
									<xstring name="action">memcompare-const</xstring>
									<xstring name="method">selectConstGt</xstring>
								</xobject>
							</button>
							<button text="小さい" split-weight="1">
								<xobject>
									<xstring name="action">memcompare-const</xstring>
									<xstring name="method">selectConstLt</xstring>
								</xobject>
							</button>
						</horizontal>
						<horizontal>
							<button text="以上" split-weight="1">
								<xobject>
									<xstring name="action">memcompare-const</xstring>
									<xstring name="method">selectConstGe</xstring>
								</xobject>
							</button>
							<button text="以下" split-weight="1">
								<xobject>
									<xstring name="action">memcompare-const</xstring>
									<xstring name="method">selectConstLe</xstring>
								</xobject>
							</button>
						</horizontal>
					</vertical>
					<vertical split-weight="1">
						<button text="記録メモを取る">
							<xobject>
								<xstring name="action">take-snapshot</xstring>
							</xobject>
						</button>
						<label text="記録メモと比較して" />
						<horizontal>
							<button id="select-ne" text="変わってない" split-weight="1" enabled="false">
								<xobject>
									<xstring name="action">memcompare</xstring>
									<xstring name="method">selectEq</xstring>
								</xobject>
							</button>
							<button id="select-eq" text="変わった" split-weight="1" enabled="false">
								<xobject>
									<xstring name="action">memcompare</xstring>
									<xstring name="method">selectNe</xstring>
								</xobject>
							</button>
						</horizontal>
						<horizontal>
							<button id="select-gt" text="大きくなった" split-weight="1" enabled="false">
								<xobject>
									<xstring name="action">memcompare</xstring>
									<xstring name="method">selectGt</xstring>
								</xobject>
							</button>
							<button id="select-lt" text="小さくなった" split-weight="1" enabled="false">
								<xobject>
									<xstring name="action">memcompare</xstring>
									<xstring name="method">selectLt</xstring>
								</xobject>
							</button>
						</horizontal>
						<horizontal>
							<button id="select-ge" text="同じか大きく" split-weight="1" enabled="false">
								<xobject>
									<xstring name="action">memcompare</xstring>
									<xstring name="method">selectGe</xstring>
								</xobject>
							</button>
							<button id="select-le" text="同じか小さく" split-weight="1" enabled="false">
								<xobject>
									<xstring name="action">memcompare</xstring>
									<xstring name="method">selectLe</xstring>
								</xobject>
							</button>
						</horizontal>
					</vertical>
				</horizontal>
				<button text="候補をリセット" send-to="main">
					<xobject>
						<xstring name="action">memcompare</xstring>
						<xstring name="method">selectReset</xstring>
					</xobject>
				</button>
			</vertical>
		</horizontal>
		<horizontal>
			<button text="ステップ" id="step">
				<xobject>
					<xstring name="action">nes-step</xstring>
				</xobject>
			</button>
			<button text="再開" id="continue" enabled="false">
				<xobject>
					<xstring name="action">nes-cont</xstring>
				</xobject>
			</button>
			<label split-weight="1" id="status" />
			<clockbutton text="戻る" op="back" />
			<clockbutton text="進む" op="forward" />
		</horizontal>
	</vertical>
	<label id="label" text="NES"></label>
	<horizontal id="mem-edit">
		<textarea id="val" desc="値を入力" />
		<button text=" 変更 ">
			<xobject>
				<xstring name="action">memchange</xstring>
			</xobject>
		</button>
	</horizontal>
	<horizontal id="asm-edit">
		<textarea id="asm" desc=" コンパイル " />
		<button text=" 変更 ">
			<xobject>
				<xstring name="action">compile</xstring>
			</xobject>
		</button>
	</horizontal>
</world>

